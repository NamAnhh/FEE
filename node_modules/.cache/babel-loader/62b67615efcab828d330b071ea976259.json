{"ast":null,"code":"import _objectSpread from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Save\\\\thayGiangGit\\\\fee\\\\src\\\\components\\\\ClientSides\\\\Register\\\\index.js\";\nimport React from \"react\";\nimport { Row, Col, Form, Input, Button, Divider, DatePicker, Modal } from \"antd\";\nimport styles from './styles';\nimport \"antd/dist/antd.css\";\nimport { _validnumber, _validemail } from '../../helpers/index';\nimport { url } from '../../../API/url';\nimport \"./styles.css\";\nimport moment from 'moment';\n\nvar Register =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Register, _React$Component);\n\n  function Register(props) {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this, props));\n\n    _this.handleChangeusername = function (event) {\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          username: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangeemail = function (event) {\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          email: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangeImage = function (event) {\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          image: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangepassword = function (event) {\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          password: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangedob = function (value) {\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          dob: value\n        })\n      });\n    };\n\n    _this.handleChangepasswordreInput = function (event) {\n      _this.setState({\n        passwordreInput: event.target.value\n      });\n    };\n\n    _this.handleCancel = function () {\n      _this.props.history.push(\"/login\");\n    };\n\n    _this.handleSubmit = function () {\n      var _this$state$user = _this.state.user,\n          username = _this$state$user.username,\n          email = _this$state$user.email,\n          password = _this$state$user.password,\n          dob = _this$state$user.dob,\n          image = _this$state$user.image;\n\n      if (username !== '' && email !== '' && _validemail(email) && password !== '') {\n        var userss = {\n          \"user\": {\n            \"username\": username,\n            \"email\": email,\n            \"password\": password,\n            \"image\": image,\n            \"roll\": \"user\",\n            \"dob\": dob,\n            \"active\": \"deactive\"\n          }\n        };\n        return fetch(url + \"users\", {\n          method: 'post',\n          body: JSON.stringify(userss),\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(function (response) {\n          response.json();\n          console.log('response', response);\n\n          if (response.status === 400) {\n            alert(\"Email hoặc Username đã tồn tại\");\n          }\n\n          if (response.status === 200) {\n            _this.showModal();\n          }\n        });\n      } else {\n        alert('Bạn phải điền đầy đủ thông tin');\n      }\n    };\n\n    _this.showModal = function () {\n      _this.setState({\n        visible: true\n      });\n    };\n\n    _this.handleOk = function (e) {\n      console.log(e);\n\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.handleModalCancel = function (e) {\n      console.log(e);\n\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.state = {\n      user: {\n        username: \"\",\n        password: \"\",\n        email: \"\",\n        image: \"\",\n        dob: \"\"\n      },\n      passwordreInput: \"\",\n      visible: false\n    };\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          passwordreInput = _this$state.passwordreInput,\n          _this$state$user2 = _this$state.user,\n          username = _this$state$user2.username,\n          email = _this$state$user2.email,\n          image = _this$state$user2.image,\n          dob = _this$state$user2.dob,\n          password = _this$state$user2.password;\n      var dateFormat = 'DD-MM-YYYY';\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng k\\xFD\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Form, {\n        labelCol: {\n          span: 6\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeusername,\n        value: username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), username === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Username is required\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeemail,\n        value: email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), email === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"email is required\"), email !== '' && !_validemail(email) && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"email is not format\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeImage,\n        value: image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"DoB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        className: \"input\",\n        onChange: this.handleChangedob,\n        value: moment(dob, dateFormat),\n        format: dateFormat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"password\",\n        className: \"input\",\n        onChange: this.handleChangepassword,\n        value: password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })), password === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"password is required\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Nh\\u1EADp l\\u1EA1i Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"password\",\n        className: \"input\",\n        onChange: this.handleChangepasswordreInput,\n        value: passwordreInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), passwordreInput === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"password is required\"), passwordreInput !== '' && password !== '' && passwordreInput !== password && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"password kh\\xF4ng kh\\u1EDBp\")), React.createElement(Col, {\n        span: 21,\n        style: styles.colButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleSubmit,\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Button, {\n        onClick: this.handleCancel,\n        style: styles.btnCancel,\n        type: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Cancel\")))), React.createElement(Modal, {\n        title: \"\\u0110\\u0103ng k\\xFD th\\xE0nh c\\xF4ng\",\n        visible: this.state.visible,\n        onOk: this.handleOk,\n        onCancel: this.handleModalCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Vui l\\xF2ng ki\\u1EC3m tra email \\u0111\\u1EC3 kick ho\\u1EA1t t\\xE0i kho\\u1EA3n\")));\n    }\n  }]);\n\n  return Register;\n}(React.Component);\n\nexport { Register as default };","map":{"version":3,"sources":["E:\\Save\\thayGiangGit\\fee\\src\\components\\ClientSides\\Register\\index.js"],"names":["React","Row","Col","Form","Input","Button","Divider","DatePicker","Modal","styles","_validnumber","_validemail","url","moment","Register","props","handleChangeusername","event","setState","user","state","username","target","value","handleChangeemail","email","handleChangeImage","image","handleChangepassword","password","handleChangedob","dob","handleChangepasswordreInput","passwordreInput","handleCancel","history","push","handleSubmit","userss","fetch","method","body","JSON","stringify","headers","then","response","json","console","log","status","alert","showModal","visible","handleOk","e","handleModalCancel","dateFormat","span","info","marginLeft","color","colButton","btnCancel","Component"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from \"react\";\r\nimport { Row, Col, Form, Input, Button, Divider, DatePicker, Modal } from \"antd\";\r\nimport styles from './styles';\r\nimport \"antd/dist/antd.css\";\r\nimport { _validnumber, _validemail } from '../../helpers/index';\r\nimport { url } from '../../../API/url'\r\nimport \"./styles.css\";\r\nimport moment from 'moment';\r\n\r\nexport default class Register extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            user: {\r\n                username: \"\",\r\n                password: \"\",\r\n                email: \"\",\r\n                image: \"\",\r\n                dob: \"\",\r\n            },\r\n            passwordreInput: \"\",\r\n            visible: false\r\n        };\r\n    }\r\n\r\n    handleChangeusername = (event) => { this.setState({ user: { ...this.state.user, username: event.target.value } }) }\r\n    handleChangeemail = (event) => { this.setState({ user: { ...this.state.user, email: event.target.value } }) }\r\n    handleChangeImage = (event) => { this.setState({ user: { ...this.state.user, image: event.target.value } }) }\r\n    handleChangepassword = (event) => { this.setState({ user: { ...this.state.user, password: event.target.value } }) }\r\n    handleChangedob = (value) => { this.setState({ user: { ...this.state.user, dob: value } }) }\r\n    handleChangepasswordreInput = (event) => { this.setState({ passwordreInput: event.target.value }) }\r\n\r\n    handleCancel = () => {\r\n        this.props.history.push(\"/login\")\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        const { user: { username, email, password, dob, image } } = this.state\r\n        if (username !== '' && email !== '' && _validemail(email) && password !== '') {\r\n            let userss = {\r\n                \"user\": {\r\n                    \"username\": username,\r\n                    \"email\": email,\r\n                    \"password\": password,\r\n                    \"image\": image,\r\n                    \"roll\": \"user\",\r\n                    \"dob\": dob,\r\n                    \"active\": \"deactive\"\r\n                }\r\n            }\r\n            return fetch(url + \"users\", {\r\n                method: 'post',\r\n                body: JSON.stringify(userss),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n                .then(response => {\r\n                    response.json()\r\n                    console.log('response', response)\r\n                    if (response.status === 400) {\r\n                        alert(\"Email hoặc Username đã tồn tại\")\r\n                    }\r\n                    if (response.status === 200) {\r\n                        this.showModal()\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            alert('Bạn phải điền đầy đủ thông tin')\r\n        }\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    handleOk = e => {\r\n        console.log(e);\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    handleModalCancel = e => {\r\n        console.log(e);\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        const { passwordreInput, user: { username, email, image, dob, password } } = this.state\r\n        const dateFormat = 'DD-MM-YYYY';\r\n        return (\r\n            <div>\r\n                <h2>Đăng ký</h2>\r\n                <Divider></Divider>\r\n                <Row>\r\n                    <Col span={6}>\r\n\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form labelCol={{ span: 6 }}>\r\n                            <Form.Item style={styles.info} label=\"Username\">\r\n                                <Input className=\"input\" onChange={this.handleChangeusername} value={username} />\r\n                            </Form.Item>\r\n                            {username === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>Username is required</span>}\r\n                            <Form.Item style={styles.info} label=\"Email\">\r\n                                <Input className=\"input\" onChange={this.handleChangeemail} value={email} />\r\n                            </Form.Item>\r\n                            {email === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>email is required</span>}\r\n                            {email !== '' && !_validemail(email) && <span style={{ marginLeft: '12vw', color: 'red' }}>email is not format</span>}\r\n                            {/* {email !== '' && !_validemail(email) && <span style={{ marginLeft: '12vw', color: 'red' }}>email is not format</span>} */}\r\n                            <Form.Item style={styles.info} label=\"Avatar\">\r\n                                <Input className=\"input\" onChange={this.handleChangeImage} value={image} />\r\n                            </Form.Item>\r\n                            <Form.Item style={styles.info} label=\"DoB\">\r\n                                <DatePicker className=\"input\" onChange={this.handleChangedob} value={moment(dob, dateFormat)} format={dateFormat} />\r\n                            </Form.Item>\r\n                            <Form.Item style={styles.info} label=\"Password\">\r\n                                <Input type=\"password\" className=\"input\" onChange={this.handleChangepassword} value={password} />\r\n                            </Form.Item>\r\n                            {password === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>password is required</span>}\r\n                            <Form.Item style={styles.info} label=\"Nhập lại Password\">\r\n                                <Input type=\"password\" className=\"input\" onChange={this.handleChangepasswordreInput} value={passwordreInput} />\r\n                            </Form.Item>\r\n                            {passwordreInput === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>password is required</span>}\r\n                            {passwordreInput !== '' && password !== '' && (passwordreInput !== password) && <span style={{ marginLeft: '12vw', color: 'red' }}>password không khớp</span>}\r\n                        </Form>\r\n                        <Col span={21} style={styles.colButton}>\r\n                            <Button onClick={this.handleSubmit} type=\"primary\">Save</Button>\r\n                            <Button onClick={this.handleCancel} style={styles.btnCancel} type=\"danger\">Cancel</Button>\r\n                        </Col>\r\n                    </Col>\r\n                </Row>\r\n                <Modal\r\n                    title=\"Đăng ký thành công\"\r\n                    visible={this.state.visible}\r\n                    onOk={this.handleOk}\r\n                    onCancel={this.handleModalCancel}\r\n                >\r\n                    <h4>Vui lòng kiểm tra email để kick hoạt tài khoản</h4>\r\n                </Modal>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}