{"ast":null,"code":"import _objectSpread from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\src\\\\components\\\\CMS\\\\Book\\\\AddBook\\\\index.js\";\nimport React from \"react\";\nimport { Row, Col, Form, Input, Button, Divider, Select } from \"antd\";\nimport styles from './styles';\nimport \"antd/dist/antd.css\";\nimport { _validnumber } from '../../../helpers/index';\nimport { url } from '../../../../API/url';\nimport { token } from '../../../../API/token';\nimport \"./styles.css\";\nvar Option = Select.Option;\n\nvar Editbooks =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Editbooks, _React$Component);\n\n  function Editbooks(props) {\n    var _this;\n\n    _classCallCheck(this, Editbooks);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editbooks).call(this, props));\n\n    _this.handleChangeName = function (event) {\n      _this.setState({\n        book: _objectSpread({}, _this.state.book, {\n          name: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangeTitle = function (event) {\n      _this.setState({\n        book: _objectSpread({}, _this.state.book, {\n          title: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangeImage = function (event) {\n      _this.setState({\n        book: _objectSpread({}, _this.state.book, {\n          image: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangePrice = function (event) {\n      _this.setState({\n        book: _objectSpread({}, _this.state.book, {\n          price: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangeQuantity = function (event) {\n      _this.setState({\n        book: _objectSpread({}, _this.state.book, {\n          quantity: event.target.value\n        })\n      });\n    };\n\n    _this.handleChangeBookList = function (value) {\n      _this.setState({\n        book: _objectSpread({}, _this.state.book, {\n          bookList: value\n        })\n      });\n    };\n\n    _this.handleCancel = function () {\n      _this.props.history.push('/books');\n    };\n\n    _this.handleSubmit = function () {\n      var _this$state$book = _this.state.book,\n          name = _this$state$book.name,\n          price = _this$state$book.price,\n          quantity = _this$state$book.quantity;\n\n      if (name !== '' && price !== '' && _validnumber(price) && quantity !== '' && _validnumber(quantity)) {\n        return fetch(url + \"/books/\", {\n          method: 'post',\n          body: JSON.stringify(_this.state.book),\n          headers: {\n            \"Authorization\": token,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(function (response) {\n          response.json();\n          console.log('response', response);\n\n          if (response.status === 200) {\n            alert('Thêm mới thành công');\n\n            _this.props.history.push('/books');\n          }\n        });\n      } else {\n        alert('Bạn phải điền đầy đủ thông tin');\n      }\n    };\n\n    _this.fetchCategories = function () {\n      fetch(url + 'categories', {\n        method: 'get',\n        headers: {\n          \"Authorization\": token,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return _this.setState({\n          categories: data.data\n        }), console.log('get category API ', _this.state.categories);\n      });\n    };\n\n    _this.state = {\n      book: {\n        name: \"\",\n        title: \"\",\n        image: \"\",\n        price: \"\",\n        quantity: \"\",\n        bookList: []\n      },\n      categories: []\n    };\n    return _this;\n  }\n\n  _createClass(Editbooks, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchCategories();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          categories = _this$state.categories,\n          _this$state$book2 = _this$state.book,\n          name = _this$state$book2.name,\n          title = _this$state$book2.title,\n          image = _this$state$book2.image,\n          price = _this$state$book2.price,\n          quantity = _this$state$book2.quantity,\n          bookList = _this$state$book2.bookList;\n      var categoryList = categories.map(function (data, index) {\n        return React.createElement(Option, {\n          key: index,\n          value: data._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, data.name);\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Th\\xEAm M\\u1EDBi\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Form, {\n        labelCol: {\n          span: 6\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"T\\xEAn s\\xE1ch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeName,\n        value: name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), name === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Name is required\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Ti\\xEAu \\u0111\\u1EC1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeTitle,\n        value: title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"\\u1EA2nh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeImage,\n        value: image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Gi\\xE1 b\\xE1n\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangePrice,\n        value: price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), price === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Price is required\"), price !== '' && !_validnumber(price) && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Price is number\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"S\\u1ED1 l\\u01B0\\u1EE3ng\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeQuantity,\n        value: quantity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), quantity === '' && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Quantity is required\"), quantity !== '' && !_validnumber(quantity) && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Quantity is number\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Danh m\\u1EE5c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Select, {\n        style: {\n          width: '30vw'\n        },\n        showSearch: true,\n        placeholder: \"Ch\\u1ECDn danh m\\u1EE5c s\\xE1ch\",\n        optionFilterProp: \"children\",\n        value: bookList,\n        onChange: this.handleChangeBookList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, categoryList))), React.createElement(Col, {\n        span: 21,\n        style: styles.colButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleSubmit,\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Button, {\n        onClick: this.handleCancel,\n        style: styles.btnCancel,\n        type: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Cancel\")))));\n    }\n  }]);\n\n  return Editbooks;\n}(React.Component);\n\nexport { Editbooks as default };","map":{"version":3,"sources":["E:\\Save\\thayGiangGit\\FEE\\src\\components\\CMS\\Book\\AddBook\\index.js"],"names":["React","Row","Col","Form","Input","Button","Divider","Select","styles","_validnumber","url","token","Option","Editbooks","props","handleChangeName","event","setState","book","state","name","target","value","handleChangeTitle","title","handleChangeImage","image","handleChangePrice","price","handleChangeQuantity","quantity","handleChangeBookList","bookList","handleCancel","history","push","handleSubmit","fetch","method","body","JSON","stringify","headers","then","response","json","console","log","status","alert","fetchCategories","data","categories","categoryList","map","index","_id","span","info","marginLeft","color","width","colButton","btnCancel","Component"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from \"react\";\r\nimport { Row, Col, Form, Input, Button, Divider,Select } from \"antd\";\r\nimport styles from './styles';\r\nimport \"antd/dist/antd.css\";\r\nimport { _validnumber } from '../../../helpers/index';\r\nimport { url } from '../../../../API/url'\r\nimport { token } from '../../../../API/token'\r\nimport \"./styles.css\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport default class Editbooks extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            book: {\r\n                name: \"\",\r\n                title: \"\",\r\n                image: \"\",\r\n                price: \"\",\r\n                quantity: \"\",\r\n                bookList: []\r\n            },\r\n            categories: [],\r\n        };\r\n    }\r\n\r\n    handleChangeName = (event) => { this.setState({ book: { ...this.state.book, name: event.target.value } }) }\r\n    handleChangeTitle = (event) => { this.setState({ book: { ...this.state.book, title: event.target.value } }) }\r\n    handleChangeImage = (event) => { this.setState({ book: { ...this.state.book, image: event.target.value } }) }\r\n    handleChangePrice = (event) => { this.setState({ book: { ...this.state.book, price: event.target.value } }) }\r\n    handleChangeQuantity = (event) => { this.setState({ book: { ...this.state.book, quantity: event.target.value } }) }\r\n    handleChangeBookList = (value) => { this.setState({ book: {...this.state.book, bookList: value } }) }\r\n\r\n    handleCancel = () => {\r\n        this.props.history.push('/books')\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        const { book: { name, price, quantity } } = this.state\r\n\r\n        if (name !== '' && price !== '' && _validnumber(price) && quantity !== '' && _validnumber(quantity)) {\r\n            return fetch(url + \"/books/\", {\r\n                method: 'post',\r\n                body: JSON.stringify(this.state.book),\r\n                headers: {\r\n                    \"Authorization\": token,\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n                .then(response => {\r\n                    response.json()\r\n                    console.log('response', response)\r\n                    if (response.status === 200) {\r\n                        alert('Thêm mới thành công')\r\n                        this.props.history.push('/books')\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            alert('Bạn phải điền đầy đủ thông tin')\r\n        }\r\n    }\r\n\r\n    fetchCategories = () => {\r\n        fetch(url + 'categories', {\r\n            method: 'get',\r\n            headers: {\r\n                \"Authorization\": token,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => (\r\n                this.setState({\r\n                    categories: data.data,\r\n                }),\r\n                console.log('get category API ', this.state.categories)\r\n            ))\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchCategories();\r\n    }\r\n\r\n    render() {\r\n        const {categories, book: { name, title, image, price, quantity,bookList } } = this.state\r\n        const categoryList = categories.map((data, index) => {\r\n            return <Option key={index} value={data._id}>{data.name}</Option>\r\n        })\r\n        return (\r\n            <div>\r\n                <h2>Thêm Mới</h2>\r\n                <Divider></Divider>\r\n                <Row>\r\n                    <Col span={6}>\r\n\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form labelCol={{ span: 6 }}>\r\n                            <Form.Item style={styles.info} label=\"Tên sách\">\r\n                                <Input className=\"input\" onChange={this.handleChangeName} value={name} />\r\n                            </Form.Item>\r\n                            {name === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>Name is required</span>}\r\n                            <Form.Item style={styles.info} label=\"Tiêu đề\">\r\n                                <Input className=\"input\" onChange={this.handleChangeTitle} value={title} />\r\n                            </Form.Item>\r\n                            <Form.Item style={styles.info} label=\"Ảnh\">\r\n                                <Input className=\"input\" onChange={this.handleChangeImage} value={image} />\r\n                            </Form.Item>\r\n                            <Form.Item style={styles.info} label=\"Giá bán\">\r\n                                <Input className=\"input\" onChange={this.handleChangePrice} value={price} />\r\n                            </Form.Item>\r\n                            {price === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>Price is required</span>}\r\n                            {price !== '' && !_validnumber(price) && <span style={{ marginLeft: '12vw', color: 'red' }}>Price is number</span>}\r\n                            <Form.Item style={styles.info} label=\"Số lượng\">\r\n                                <Input className=\"input\" onChange={this.handleChangeQuantity} value={quantity} />\r\n                            </Form.Item>\r\n                            {quantity === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>Quantity is required</span>}\r\n                            {quantity !== '' && !_validnumber(quantity) && <span style={{ marginLeft: '12vw', color: 'red' }}>Quantity is number</span>}\r\n                            <Form.Item style={styles.info} label=\"Danh mục\">\r\n                                <Select\r\n                                    style={{width:'30vw'}}\r\n                                    showSearch\r\n                                    placeholder=\"Chọn danh mục sách\"\r\n                                    optionFilterProp=\"children\"\r\n                                    value={bookList}\r\n                                    onChange={this.handleChangeBookList}\r\n                                >\r\n                                    {categoryList}\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Form>\r\n                        <Col span={21} style={styles.colButton}>\r\n                            <Button onClick={this.handleSubmit} type=\"primary\">Save</Button>\r\n                            <Button onClick={this.handleCancel} style={styles.btnCancel} type=\"danger\">Cancel</Button>\r\n                        </Col>\r\n                    </Col>\r\n                </Row>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}