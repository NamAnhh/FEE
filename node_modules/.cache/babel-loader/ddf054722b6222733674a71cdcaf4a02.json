{"ast":null,"code":"import _objectSpread from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Save\\\\thayGiangGit\\\\FEE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Save\\\\thayGiangGit\\\\fee\\\\src\\\\components\\\\ClientSides\\\\Login\\\\index.js\";\nimport React from \"react\";\nimport { Row, Col, Avatar, Form, Input, Radio, Select, Button, Divider } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { token } from '../../../API/token';\nimport { url } from '../../../API/url';\nimport styles from './styles';\nimport \"./styles.css\";\nimport { _validemail } from '../../helpers/index';\nimport GoogleLogin from 'react-google-login';\nimport { GoogleLogout } from 'react-google-login';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this._bookId = '';\n\n    _this.showModal = function (bookId) {\n      _this._bookId = bookId;\n\n      _this.setState({\n        visible: true\n      });\n    };\n\n    _this.handlemodalCancel = function (e) {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.responseGoogle = function (response) {\n      console.log(response);\n\n      if (!response.error) {\n        var params = {\n          \"user\": {\n            \"email\": response.profileObj.email\n          }\n        };\n        return fetch(url + \"users/loginSocial\", {\n          method: 'post',\n          body: JSON.stringify(params),\n          headers: {\n            // \"Authorization\": token,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(function (res) {\n          return res.json();\n        }).then(alert(\"Đăng nhập thành công\")).then(localStorage.setItem(\"loginGoogle\", JSON.stringify(response.profileObj))).then(_this.props.history.push(\"/\"));\n      }\n    };\n\n    _this.handleSendMail = function () {\n      _this.props.history.push(\"/\");\n    };\n\n    _this.handleRegister = function () {\n      _this.props.history.push(\"/register\");\n    };\n\n    _this.handleChangeEmail = function (event) {\n      _this.setState(_objectSpread({}, _this.state, {\n        email: event.target.value\n      }));\n    };\n\n    _this.handleChangePassword = function (event) {\n      _this.setState(_objectSpread({}, _this.state, {\n        password: event.target.value\n      }));\n    };\n\n    _this.handleSubmit = function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      var loginObj = {\n        \"user\": {\n          \"email\": email,\n          \"password\": password\n        }\n      };\n\n      if (email !== '' && password !== '' && _validemail(email)) {\n        return fetch(url + \"users/login\", {\n          method: 'post',\n          body: JSON.stringify(_this.state.book),\n          headers: {\n            \"Authorization\": token,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(function (response) {\n          response.json();\n          console.log('response', response);\n\n          if (response.status === 200) {\n            alert('Thêm mới thành công');\n\n            _this.props.history.push('/');\n          }\n        });\n      } else {\n        alert('Bạn phải điền đầy đủ thông tin');\n      }\n    };\n\n    _this.state = {\n      visible: false,\n      email: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      localStorage.removeItem(\"loginGoogle\");\n    } //show modal\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: {\n          textAlign: \"center\",\n          marginLeft: '5vw'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Form, {\n        labelCol: {\n          span: 6\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangeEmail,\n        value: email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), email !== '' && !_validemail(email) && React.createElement(\"span\", {\n        style: {\n          marginLeft: '12vw',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Email is not format\"), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        onChange: this.handleChangePassword,\n        value: password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        style: styles.info,\n        label: \" \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: styles.btnLogin,\n        onClick: this.handleSubmit,\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: styles.btnRegister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleRegister,\n        type: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng k\\xFD ngay\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          textAlign: 'center',\n          marginLeft: '6vw',\n          marginTop: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Or sign up using\"))), React.createElement(\"div\", {\n        style: styles.colButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(GoogleLogin, {\n        clientId: \"450425733304-0etv6pg3mbiq2bvmje5ldcd1uros0u3h.apps.googleusercontent.com\",\n        render: function render(renderProps) {\n          return React.createElement(Button, {\n            style: styles.btnLoginGmail,\n            shape: \"circle\",\n            icon: \"google\",\n            type: \"danger\",\n            onClick: renderProps.onClick,\n            disabled: renderProps.disabled,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          });\n        },\n        onSuccess: this.responseGoogle,\n        onFailure: this.responseGoogle,\n        cookiePolicy: 'single_host_origin',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport { Login as default };","map":{"version":3,"sources":["E:\\Save\\thayGiangGit\\fee\\src\\components\\ClientSides\\Login\\index.js"],"names":["React","Row","Col","Avatar","Form","Input","Radio","Select","Button","Divider","token","url","styles","_validemail","GoogleLogin","GoogleLogout","Login","props","_bookId","showModal","bookId","setState","visible","handlemodalCancel","e","responseGoogle","response","console","log","error","params","profileObj","email","fetch","method","body","JSON","stringify","headers","then","res","json","alert","localStorage","setItem","history","push","handleSendMail","handleRegister","handleChangeEmail","event","state","target","value","handleChangePassword","password","handleSubmit","loginObj","book","status","removeItem","textAlign","marginLeft","span","info","color","btnLogin","btnRegister","marginTop","colButton","renderProps","btnLoginGmail","onClick","disabled","Component"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from \"react\";\r\nimport { Row, Col, Avatar, Form, Input, Radio, Select, Button, Divider } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport { token } from '../../../API/token'\r\nimport { url } from '../../../API/url'\r\nimport styles from './styles';\r\nimport \"./styles.css\";\r\nimport { _validemail } from '../../helpers/index'\r\n\r\nimport GoogleLogin from 'react-google-login';\r\nimport { GoogleLogout } from 'react-google-login';\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visible: false,\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        localStorage.removeItem(\"loginGoogle\");\r\n    }\r\n\r\n    //show modal\r\n    _bookId = ''\r\n    showModal = (bookId) => {\r\n        this._bookId = bookId\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    //modal btn cancel\r\n    handlemodalCancel = e => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    //login google\r\n    responseGoogle = (response) => {\r\n        console.log(response);\r\n        if (!response.error) {\r\n            let params = {\r\n                \"user\": {\r\n                    \"email\": response.profileObj.email,\r\n                }\r\n            }\r\n\r\n            return fetch(url + \"users/loginSocial\", {\r\n                method: 'post',\r\n                body: JSON.stringify(params),\r\n                headers: {\r\n                    // \"Authorization\": token,\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(alert(\"Đăng nhập thành công\"))\r\n                .then(localStorage.setItem(\"loginGoogle\", JSON.stringify(response.profileObj)))\r\n                .then(this.props.history.push(\"/\"))\r\n        }\r\n    }\r\n\r\n    //send email\r\n    handleSendMail = () => {\r\n        this.props.history.push(\"/\")\r\n    }\r\n\r\n    //go to register\r\n    handleRegister = () => {\r\n        this.props.history.push(\"/register\")\r\n    }\r\n\r\n    handleChangeEmail = (event) => { this.setState({ ...this.state, email: event.target.value }) }\r\n    handleChangePassword = (event) => { this.setState({ ...this.state, password: event.target.value }) }\r\n\r\n    handleSubmit = () => {\r\n        const { email, password } = this.state\r\n        let loginObj = {\r\n            \"user\":{\r\n                \"email\":email,\r\n                \"password\": password\r\n            }\r\n        }\r\n\r\n        if (email !== '' && password !== '' && _validemail(email)) {\r\n            return fetch(url + \"users/login\", {\r\n                method: 'post',\r\n                body: JSON.stringify(this.state.book),\r\n                headers: {\r\n                    \"Authorization\": token,\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n                .then(response => {\r\n                    response.json()\r\n                    console.log('response', response)\r\n                    if (response.status === 200) {\r\n                        alert('Thêm mới thành công')\r\n                        this.props.history.push('/')\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            alert('Bạn phải điền đầy đủ thông tin')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { email, password } = this.state\r\n        return (\r\n            <div>\r\n                <h2 style={{ textAlign: \"center\", marginLeft: '5vw' }}>Login</h2>\r\n                <Divider></Divider>\r\n                <Row>\r\n                    <Col span={6}>\r\n\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form labelCol={{ span: 6 }}>\r\n                            <Form.Item style={styles.info} label=\"Email\">\r\n                                <Input className=\"input\" onChange={this.handleChangeEmail} value={email} />\r\n                            </Form.Item>\r\n                            {/* {email === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>Email is required</span>} */}\r\n                             {email !== '' && !_validemail(email) && <span style={{ marginLeft: '12vw', color: 'red' }}>Email is not format</span>}\r\n                            <Form.Item style={styles.info} label=\"Password\">\r\n                                <Input className=\"input\" onChange={this.handleChangePassword} value={password} />\r\n                            </Form.Item>\r\n                            {/* {password === '' && <span style={{ marginLeft: '12vw', color: 'red' }}>Password is required</span>} */}\r\n                            <Form.Item style={styles.info} label=\" \">\r\n                                <Button style={styles.btnLogin} onClick={this.handleSubmit} type=\"primary\">Đăng nhập</Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                        <div>\r\n                            <div style={styles.btnRegister}>\r\n                                <Button onClick={this.handleRegister} type=\"link\">Đăng ký ngay</Button>\r\n                            </div>\r\n                            <div>\r\n                                <p style={{ textAlign: 'center', marginLeft: '6vw', marginTop: '30px' }}>Or sign up using</p>\r\n                            </div>\r\n                        </div>\r\n                        <div style={styles.colButton}>\r\n                            <GoogleLogin\r\n                                clientId=\"450425733304-0etv6pg3mbiq2bvmje5ldcd1uros0u3h.apps.googleusercontent.com\"\r\n                                render={renderProps => (\r\n                                    <Button style={styles.btnLoginGmail} shape=\"circle\" icon=\"google\" type=\"danger\" onClick={renderProps.onClick} disabled={renderProps.disabled}></Button>\r\n                                )}\r\n                                onSuccess={this.responseGoogle}\r\n                                onFailure={this.responseGoogle}\r\n                                cookiePolicy={'single_host_origin'}\r\n                            />\r\n\r\n                            {/* 589858161579560 */}\r\n                        </div>\r\n                    </Col>\r\n\r\n                    {/* <GoogleLogout\r\n                        clientId=\"450425733304-0etv6pg3mbiq2bvmje5ldcd1uros0u3h.apps.googleusercontent.com\"\r\n                        render={renderProps => (\r\n                            <Button style={styles.btnCancel} type=\"primary\" onClick={renderProps.onClick} disabled={renderProps.disabled}>Logout google</Button>\r\n                        )}\r\n                        onLogoutSuccess={this.logout}\r\n                    >\r\n                    </GoogleLogout> */}\r\n                </Row>\r\n            </div >\r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}